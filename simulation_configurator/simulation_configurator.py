import multiprocessing as mp
import sys
import os
filePath = os.path.dirname(os.path.realpath(__file__))
sys.path.append(filePath+"/../controllers/webots_vehicle_testing")
sys.path.append(filePath+"/../controllers/controller_commons")
sys.path.append(filePath+"/examples")
#from sim_config_tools import *
#from sim_examples import *
from single_car_acc_follow import *


if __name__ == "__main__":
    main_start_time = time.time()
    print('Started at : {}'.format(main_start_time))
    mp.freeze_support()

    #run_results('.\\logs\\01_27_2017_17_57_results.dat')
    #experiment_try_1()
    #controller_try_3()
    #controller_try_4([ 0.068978588, 0.0, 15.15645175])
    #controller_try_4([ 0.0168978588, 0.0, 19.15645175])
    #controller_try_5([ 0.0168978588, 0.0, 19.15645175])
    #controller_try_5([ 1.68978588, 0.01, 19.15645175])
    #controller_try_6([ 0.06125, 0.000005, 0.05])
    #controller_try_8([ 0.06125, 0.000005, 0.05])
    #controller_try_8([ 0.06125, 0.000005, 0.25])
    #acc_list = [0.39,  0.0,-0.39,  0.0,  0.0, 0.39, 0.39, 0.39, 0.39,  0.0,  0.0,   0.0,   0.0,   0.0, -0.39, -0.39, -0.39, -0.39,   0.0,   0.0,   0.0]
    #time_list = [0.0, 14.1, 20.0, 34.1, 50.0, 60.0, 70.0, 80.0, 90.0,100.0,110.0, 120.0, 130.0, 140.0, 150.0, 160.0, 170.0, 180.0, 190.0, 200.0, 210.0]
    #controller_try_9([ 0.06125, 0.000005, 0.1], 220000, acc_list, time_list)
    #controller_try_11([ 0.06125, 0.000005, 0.1], 220000, acc_list, time_list)
    #controller_try_4([ 3.8185, 7.3112, 4.6041 ])
    #experiment_4()
    #experiment_3()
    #optimize_controller_4()
    #experiment_11()

    #ww = [11.8913313268,9.393969211,10.0753850265,1.50738830962,6.93387504216,4.82057902304,8.27103960092,8.01545810531,1.5351155986,5.33389981664,3.28048723434,1.07134284756,0.341064845508,3.5047527703,11.2674304434,7.63494535549,14.2718151318,10.2793311288,7.07775374088,6.99647664311,14.4531522966,-0.213190395924,7.9294161054,9.19756050669,4.43899359376,12.2198781832,12.107493165,6.78595328073,2.9437445888,10.6295767266,9.7931098063,4.47961816268,-2.38221371339,7.06186456791,3.94320367109,8.45473651996,4.3211799981,6.99765784916,0.599406330072,9.86460772567,0.115537029813,12.3843131267,4.74600172052,11.6077143689,2.54158401658,5.73464524339,7.54273287335,5.8538441794,2.51086721576,-0.852939022581,2.09586987057,6.99703760897,3.78194782862,-1.72086164252,4.27546648576,9.42240055168,6.14203488045,1.82019079711,3.06887697791,-2.12283592774,7.87333448719,5.09733963763,-1.69631745735,7.13578945788,4.33762521464,2.64577519147,0.994685934787,10.0246714672,7.4001889247,5.13019775705,1.75987063818,7.45264342086,5.80921126598,9.20157007502,3.66148873134,1.72856724837,-3.51852612099,4.11756696932,0.822026430156,2.42140169968,10.9871338005,4.46431030893,5.59663471475,9.1899096513,7.49109931528,5.61775466262,2.62897766173,11.379441191,13.6811704914,9.32467905709,1.99779767533,5.74064351278,5.42573809245,2.56997646323,5.0629835362,1.9412567783,2.68281211722,0.0618141109537,-1.97868192126,0.397188084137,7.00121544622,0.565924782862,11.2912043675,1.2212591447,7.61792436225,1.51040588363,-4.07917797024,-1.67922613747,-0.730293533487,2.23693598421,7.81690149107,0.399082373197,8.21060611305,-1.99436094693,5.98215116102,9.22517175123,8.33393631587,1.45676836877,14.02801317,1.40123704087,3.86539141523,1.35181842538,3.45098930863,-0.106987101067,2.7457498541,8.1455027571,5.57071112472,-0.982808178642,2.75008161928,-0.483279474364,3.92998744502,5.9112627395,7.6467622568,6.74525479272,6.44126000614,7.72127576309,10.4135528454,8.11112681179,1.5435124635,4.21578491021,-0.219698642758,5.97787601598,9.80797984559,0.428008150232,4.60321968298,5.76302674953,-1.77848953894,8.49728992572,1.5345568016,6.51996590657,5.47579777287,5.01744283039,4.82262840984,-4.06231572904,7.75330018818,9.05479854364,-0.518173380629,3.21020250249,3.63010485645,9.47326937933,5.66423611835,2.53488192893,4.94204394012,10.1317359003,9.49854748592,7.56257650422,2.15745440101,0.746988622732,6.77115580114,9.20961761797,9.3266766259,-0.0680447972644,5.75970941848,10.8948050448,14.0015514543,4.71337080946,7.42593984753,5.34592348407,6.51821894194,3.10483078481,3.34719108925,6.50903448902,1.58299901808,0.656228412254,9.49904569926,0.284038229052,4.91457155735,9.01258489819,3.77224396302,8.11204189346,6.90346536681,4.17085337697,4.87825592206,4.74977128641,2.36764600811,2.92658442234,11.6920837683,12.1586789155,10.2111494687,1.7829943384,6.01748999612,3.08377385404,0.455704460973,10.3041823263,3.84859213623,3.93151379656,6.79508501947,5.34073828761,9.04243729132,6.65744116286,5.00697888747,9.98597562934,6.02543341725,-1.97317162113,10.717367637,2.13904071055,6.75593583483,-2.492070972,6.63484987127,-1.97809970134,1.06190018041,2.07143642832,7.57636695874,6.57336553338,9.67511329929,8.48142250015,5.78129488727,0.594199708779,4.65414772182,2.73417052748,11.4919858558,0.16410386784,1.39908526688,1.58007608974,7.6735731145,10.4291316494,-4.66059683741,8.92927949452,12.6832806248,2.82093411345,6.40288639015,8.08036528419,4.58201697214,10.8427545752,7.33041783092,5.99046569738,0.903955938837,2.79456773165,7.75434944035,5.06195027085,0.201867394741,10.4215656643,4.40283142672,7.27791890503,2.53966630102,0.324369854739,11.3782255277,3.02511823006,-2.23553047899,-0.714859361584,4.4531493935,-2.37279930718,6.19387680021,2.54282944749,5.64154206479,6.25110491347,8.45303368607,3.18702503455,8.76680661657,5.54167017269,-1.23849702089,-1.92793017386,0.845630404667,7.24520761569,4.35196542718,14.5345276838,2.12877084054,-1.4578108988,-0.604903285935,-2.16876473066,-2.74139761986,-4.15570308018,4.66134644997,2.20197302636,5.79492996023,10.5265910056,-0.160187679239,3.57600629618,4.42000189691,-2.6905949034,11.8185702189,3.56084507986,1.67670263174,10.8307943045,0.753785538909,1.04763316683,7.2874788605,6.17907560394,6.0441254511,1.74788413885,10.5353365673,2.97622959244,4.90164117262,1.9169699346,1.46410951702,4.75191041443,2.08549050425,-1.50663770302,-0.624208389475,1.37882239132,-1.80503327306,4.57532635027,-3.77273218756,12.2604891508,-0.960799750483,1.17190053305,6.59016816218,4.11448696453,10.0478816948,10.113756266,-7.10210342537,7.97350177706,7.11985004934,0.772588717124,-0.510710604201,7.0815760917,4.03199363385,5.19561242426,3.30097421049,6.32713473278,5.83931380702,10.9478968641,1.45279100981,4.90316495969,2.05679568986,2.18491017888,5.49754843675,6.33108144786,0.46592064475,6.64452862327,0.739074728372,7.18505689587,2.19837815625,7.30763868821,1.18682389211,9.03010983922,5.69309217464,1.0795596113,11.0622412067,7.33383429187,-0.387435406118,6.26169292355,3.50585073283,3.95674763357,2.47170014826,4.77972915081,9.77572729626,6.36817832786,2.71726758885,5.15787507726,7.38782929808,1.22743453574,0.947204053445,9.07043101575,2.17254752907,2.84937337527,6.30127991572,1.67267686147,1.67784746569,2.95492278059,5.37953507407,5.59435272515,-0.783499594399,3.6448590752,1.1282971276,9.29630904125,7.23228189898,2.93281444994,-2.34149917409,-0.402648322268,6.41406873439,10.6235480918,9.29470303584,7.61541668791,5.5138131711,5.53299062063,11.1447322747,2.72955363051,1.15559534621,3.75919022875,2.72677099438,7.2666610273,-1.04487087389,8.95499149382,10.6496798204,3.34191140158,5.48908897423,8.31468520049,-0.538470398422,6.12347826131,6.32915046243,5.17358198997,-0.0771119286615,4.00996439219,0.00440328305785,10.2618148232,7.33079871801,5.96056510719,5.6095984143,10.8099743989,5.78517256338,4.27952794923,0.308607235056,0.786080140071,-2.60960227388,14.2971747055,4.09347601526,-6.06668194422,6.17951580159,5.90255589291,7.93876509526,2.06490521426,7.3881574362,13.9115148807,9.77316459264,4.46319592811,3.58233069351,-7.28578134042,-4.05559609346,7.63937638427,2.68778875183,3.2358382324,2.52584621282,-5.95652637826,7.1973930824,4.38277824082,-0.140055110911,3.44372748359,6.38109159712,0.234806328411,0.651810161122,-5.88593105835,9.3794079848,-0.124701400947,10.7819194839,4.56351704861,8.3468126578,8.51597108917,9.85521390985,3.81108158861,8.33520638364,1.71516684875,8.67597372689,5.52957049553,11.4025576319,0.0674669021528,8.59278100451]
    #ww = None
    #controller_try_11(ww, 220000)
    #controller_try_12(220000)
    #scontroller_try_13(220000)
    execute_single_car_acc_follow_data_collection(None, None)
    main_elapsed_time = time.time() - main_start_time
    print('Overall Execution Time: {}'.format(main_elapsed_time))
